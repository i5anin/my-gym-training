## **Конспект БД и взаимодействия**

### **1. Структура БД**

База данных содержит 4 основные таблицы:

- **`workout_set`** – подходы (сеты) в рамках тренировки.
- **`workout`** – тренировки, в которых выполняются упражнения.
- **`muscle_group`** – группы мышц, на которые направлены упражнения.
- **`exercise_type`** – типы упражнений.

### **2. Взаимосвязи**

- **`workout_set.workout_id` → `workout.id`** (связь 1:M, каскадное удаление).
- **`workout.muscle_group_id` → `muscle_group.id`** (связь M:1).
- **`workout.exercise_type_id` → `exercise_type.id`** (связь M:1).

### **3. Основные процессы**

#### **Добавление тренировки**

1. Создать запись в `workout` с указанием типа упражнения и группы мышц.
2. Добавить к тренировке подходы в `workout_set`.

#### **Редактирование тренировки**

1. Изменить запись в `workout`.
2. Обновить связанные подходы в `workout_set`.

#### **Удаление тренировки**

1. Удаление из `workout` автоматически удалит все подходы (`CASCADE`).

#### **Получение списка тренировок с деталями**

- SQL-запрос с `JOIN` для объединения `workout`, `exercise_type` и `muscle_group`.

### **4. Ограничения и проверки**

- Номер подхода (`set_number`) должен быть в пределах **1-10**.
- `weight` и `repetitions` **обязательны** в `workout_set`.
- Уникальность названий групп мышц и типов упражнений.